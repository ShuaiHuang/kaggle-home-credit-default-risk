# Exploratory Data Analysis

## What is EDA(Exploratory Data Analysis) ?

> The goal is to show the data, summarize the evidence and identify interesting patterns while eliminating ideas that likely won’t pan out.　　——Exploratory Data Analysis wiht R

- [Wiki](https://en.wikipedia.org/wiki/Exploratory_data_analysis)
- [Book](http://theta.edu.pl/wp-content/uploads/2012/10/exploratorydataanalysis_tukey.pdf)
- [知乎](https://zhuanlan.zhihu.com/p/29364225)

## 什么是EDA?

EDA是对**真实数据**进行深入认识的套路. 通常从以下几个方面进行分析:

1. 基本数据信息
2. 缺失值/有效值处理 [Ref](https://zhuanlan.zhihu.com/p/32473525)
    - 简单插补
    - 多重插补 *缺失数据集——MCMC估计插补成几个数据集——每个数据集进行插补建模（glm、lm模型）——将这些模型整合到一起（pool）——评价插补模型优劣（模型系数的t统计量）——输出完整数据集（compute）*
3. 单变量分析
4. 关联性分析
5. 组合分析

## HOME CREDIT DEFAULT RISK中的数据应该如何清理

初步计划按照申请者信息的不同维度进行划分, 在每个维度上使用多个因素共同判别数据有效性, 进行清洗. 例如结合申请者的年龄以及孩子数目进行有效性判别申请者家庭信息的有效性. 从业务逻辑上来说, 多因素总和判别进行数据清洗可以从一定程度上筛选出资料造假的申请者.

### 特征集粒度划分

#### 申请者个人 / 家庭基本信息

- SK_ID_CURR
- TARGET
- CODE_GENDER
- DAYS_BIRTH
- DAYS_REGISTRATION
- DAYS_ID_PUBLISH
- NAME_EDUCATION_TYPE
- CNT_CHILDREN
- CNT_FAM_MEMBERS
- NAME_FAMILY_STATUS

#### 申请者联系方式

- FLAG_MOBIL
- FLAG_PHONE
- FLAG_EMAIL
- FLAG_CONT_MOBILE

#### 申请者车辆购置情况

- FLAG_OWN_CAR
- OWN_CAR_AGE

#### 申请者工作情况

- DAYS_EMPLOYED
- FLAG_EMP_PHONE
- FLAG_WORK_PHONE
- ORGANIZATION_TYPE
- NAME_INCOME_TYPE
- OCCUPATION_TYPE
- AMT_INCOME_TOTAL

#### 申请者房产情况

- FLAG_OWN_REALTY
- NAME_HOUSING_TYPE
- REGION_POPULATION_RELATIVE
- REGION_RATING_CLIENT
- REGION_RATING_CLIENT_W_CITY
- APARTMENTS_AVG
- BASEMENTAREA_AVG
- YEARS_BEGINEXPLUATATION_AVG
- YEARS_BUILD_AVG
- COMMONAREA_AVG
- ELEVATORS_AVG
- ENTRANCES_AVG
- FLOORSMAX_AVG
- FLOORSMIN_AVG
- LANDAREA_AVG
- LIVINGAPARTMENTS_AVG
- LIVINGAREA_AVG
- NONLIVINGAPARTMENTS_AVG
- NONLIVINGAREA_AVG
- APARTMENTS_MODE
- BASEMENTAREA_MODE
- YEARS_BEGINEXPLUATATION_MODE
- YEARS_BUILD_MODE
- COMMONAREA_MODE
- ELEVATORS_MODE
- ENTRANCES_MODE
- FLOORSMAX_MODE
- FLOORSMIN_MODE
- LANDAREA_MODE
- LIVINGAPARTMENTS_MODE
- LIVINGAREA_MODE
- NONLIVINGAPARTMENTS_MODE
- NONLIVINGAREA_MODE
- APARTMENTS_MEDI
- BASEMENTAREA_MEDI
- YEARS_BEGINEXPLUATATION_MEDI
- YEARS_BUILD_MEDI
- COMMONAREA_MEDI
- ELEVATORS_MEDI
- ENTRANCES_MEDI
- FLOORSMAX_MEDI
- FLOORSMIN_MEDI
- LANDAREA_MEDI
- LIVINGAPARTMENTS_MEDI
- LIVINGAREA_MEDI
- NONLIVINGAPARTMENTS_MEDI
- NONLIVINGAREA_MEDI
- FONDKAPREMONT_MODE
- HOUSETYPE_MODE
- TOTALAREA_MODE
- WALLSMATERIAL_MODE
- EMERGENCYSTATE_MODE

#### 风险评估

- REG_REGION_NOT_LIVE_REGION
- REG_CITY_NOT_LIVE_CITY
- REG_CITY_NOT_WORK_CITY
- LIVE_CITY_NOT_WORK_CITY
- DAYS_LAST_PHONE_CHANGE
- REG_REGION_NOT_WORK_REGION
- LIVE_REGION_NOT_WORK_REGION
- EXT_SOURCE_1
- EXT_SOURCE_2
- EXT_SOURCE_3

#### 贷款申请材料

- NAME_CONTRACT_TYPE
- AMT_CREDIT
- AMT_ANNUITY
- AMT_GOODS_PRICE
- NAME_TYPE_SUITE
- WEEKDAY_APPR_PROCESS_START
- HOUR_APPR_PROCESS_START
- AMT_REQ_CREDIT_BUREAU_HOUR
- AMT_REQ_CREDIT_BUREAU_DAY
- AMT_REQ_CREDIT_BUREAU_WEEK
- AMT_REQ_CREDIT_BUREAU_MON
- AMT_REQ_CREDIT_BUREAU_QRT
- AMT_REQ_CREDIT_BUREAU_YEAR
- FLAG_DOCUMENT_2
- FLAG_DOCUMENT_3
- FLAG_DOCUMENT_4
- FLAG_DOCUMENT_5
- FLAG_DOCUMENT_6
- FLAG_DOCUMENT_7
- FLAG_DOCUMENT_8
- FLAG_DOCUMENT_9
- FLAG_DOCUMENT_10
- FLAG_DOCUMENT_11
- FLAG_DOCUMENT_12
- FLAG_DOCUMENT_13
- FLAG_DOCUMENT_14
- FLAG_DOCUMENT_15
- FLAG_DOCUMENT_16
- FLAG_DOCUMENT_17
- FLAG_DOCUMENT_18
- FLAG_DOCUMENT_19
- FLAG_DOCUMENT_20
- FLAG_DOCUMENT_21

#### 申请者社交状况

- OBS_30_CNT_SOCIAL_CIRCLE
- DEF_30_CNT_SOCIAL_CIRCLE
- OBS_60_CNT_SOCIAL_CIRCLE
- DEF_60_CNT_SOCIAL_CIRCLE

### 后续处理策略

1. 划分训练数据集和验证数据集;
2. 在训练数据集, 验证数据集, 测试数据集上分别进行清洗. 训练数据集和验证数据集上的异常数据进行删除, 测试数据集上的异常数据直接标记为`1`(还款异常用户);
3. 不断迭代, 进一步优化数据清洗策略.